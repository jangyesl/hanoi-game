<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>í•˜ë…¸ì´ì˜ íƒ‘ ê²Œì„</title>

  <style>
    body {
      text-align: center; /* ê¸€ì”¨ ê°€ìš´ë° ì •ë ¬ */
      margin-top: 50px;   /* ìœ„ìª½ ì—¬ë°± */
    }

    .tower-container {
      display: flex;              /* ê°€ë¡œ ì •ë ¬ */
      justify-content: center;     /* ê°€ìš´ë° ì •ë ¬ */
      align-items: flex-end;      /* ì•„ë˜ ì •ë ¬ */
      gap: 30px;                  /* ê¸°ë‘¥ ì‚¬ì´ ê°„ê²© */
      margin-bottom: 10px;         /* ê¸°ë‘¥ê³¼ ì´ë¦„ ì‚¬ì´ ì—¬ë°± */
    }

    .tower-group {
      display: flex;                 /* ê¸°ë‘¥ê³¼ ì´ë¦„ ì„¸ë¡œ ì •ë ¬ */
      flex-direction: column;
      align-items: center;
    }

    .tower {
      width: 120px;               /* ê¸°ë‘¥ ë„ˆë¹„ */
      height: 250px;              /* ê¸°ë‘¥ ë†’ì´ */
      border: 2px solid #aaa;     /* í…Œë‘ë¦¬ ìƒ‰ */
      display: flex;                /* ë‚´ë¶€ ì›ë°˜ ì •ë ¬ì„ ìœ„í•´ flex ì‚¬ìš© */
      flex-direction: column-reverse; /* ì•„ë˜ì—ì„œ ìœ„ë¡œ ì •ë ¬ */
      align-items: center;        /* ê°€ìš´ë° ì •ë ¬ */
      padding-bottom: 10px;       /* ì•„ë˜ ì—¬ë°± */
    }

    /* ê¸°ë‘¥ ê°œë³„ ìƒ‰ìƒ ì§€ì • */
    #a {
      background-color: #ff4d4d; /* 1ë²ˆ ê¸°ë‘¥ */
    }
    #b {
      background-color: #ffd700; /* 2ë²ˆ ê¸°ë‘¥  */
    }
    #c {
      background-color: #4da6ff; /* 3ë²ˆ ê¸°ë‘¥ */
    }

    .tower-name {
      margin-top: 8px;           /* ê¸°ë‘¥ê³¼ ì´ë¦„ ì‚¬ì´ ì—¬ë°± */
      
    }

    .disk {
      height: 20px;              /* ì›ë°˜ ë†’ì´ */
      background-color: teal;    /* ì›ë°˜ ê¸°ë³¸ ìƒ‰ */
      margin: 3px 0;             /* ìœ„ì•„ë˜ ì—¬ë°± */
      border-radius: 5px;        /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
      cursor: pointer;           /* ë§ˆìš°ìŠ¤ ì˜¬ë¦´ ë•Œ í¬ì¸í„° í‘œì‹œ */
    }
  </style>
</head>
<body>
  <h1>í•˜ë…¸ì´ì˜ íƒ‘ ê²Œì„ ê¸°ì–µë‚˜ì‹œëƒ</h1>
  <p>ì›ë°˜ì„ ëª¨ë‘ ì˜¤ë¥¸ìª½ ê¸°ë‘¥ìœ¼ë¡œ ì˜®ê²¨ë³´ì„¸ìš”.<br>
     ë°•ìŠ¤ í´ë¦­ í›„ ì˜®ê¸¸ ê¸°ë‘¥ í´ë¦­  </p>

  <!-- ê¸°ë‘¥ + ì´ë¦„ ë¬¶ëŠ”ê±°!!! í•˜ë‚˜ ë” ë§Œë“¤ë©´ ë‘ê°œìƒê¹€  -->

  <div class="tower-container">
    <div class="tower-group">

      <div class="tower" id="a"></div>           <!-- ì²« ë²ˆì§¸ ê¸°ë‘¥ ìƒì„± -->
      <div class="tower-name">1ë²ˆ ê¸°ë‘¥ì—ì„œ</div>     <!-- ê¸°ë‘¥ ì•„ë˜ í…ìŠ¤íŠ¸ ë‚˜íƒ€ëƒ„-->
    </div>
    <div class="tower-group">
      <div class="tower" id="b"></div>          
      <div class="tower-name">-></div>
    </div>
    <div class="tower-group">
      <div class="tower" id="c"></div>          
      <div class="tower-name"> ì—¬ê¸°ë¡œ ì˜®ê²¨</div>
    </div>
  </div>

  <script>
    const numDisks = 4; // ì›ë°˜ ê°œìˆ˜

    // ê° ê¸°ë‘¥ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const towers = {
      a: document.getElementById('a'),
      b: document.getElementById('b'),
      c: document.getElementById('c')
    };

    let selectedDisk = null; // ì„ íƒëœ ì›ë°˜ ì €ì¥ìš©
    let fromTower = null;    // ì„ íƒëœ ì›ë°˜ì˜ ì¶œë°œ ê¸°ë‘¥ ì €ì¥ìš©

    // ì‹œì‘ ì‹œ ì™¼ìª½ ê¸°ë‘¥ì— ì›ë°˜ 4ê°œ ìƒì„±
    for (let i = numDisks; i >= 1; i--) {
      const disk = document.createElement('div');   // <div> ìš”ì†Œ ìƒì„±
      disk.className = 'disk';                      // í´ë˜ìŠ¤ ë¶€ì—¬
      disk.style.width = `${i * 25}px`;             // ì›ë°˜ ë„ˆë¹„ í¬ê¸° ì„¤ì •
      disk.dataset.size = i;                        // í¬ê¸° ì •ë³´ë¥¼ datasetì— ì €ì¥
      towers.a.appendChild(disk);                   // 1ë²ˆ ê¸°ë‘¥ì— ì¶”ê°€
    }

    // ê° ê¸°ë‘¥ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì—°ê²°
    Object.keys(towers).forEach(towerId => {
      towers[towerId].addEventListener('click', () => handleTowerClick(towerId));
    });

    // í´ë¦­ ë¡œì§: ì²˜ìŒ í´ë¦­ì€ ì„ íƒ, ë‘ ë²ˆì§¸ í´ë¦­ì€ ì´ë™ ì‹œë„
    function handleTowerClick(towerId) {
      const tower = towers[towerId];              // í´ë¦­í•œ ê¸°ë‘¥
      const topDisk = tower.lastElementChild;     // ê°€ì¥ ìœ„ì— ìˆëŠ” ì›ë°˜

      if (!selectedDisk) {
        // ì•„ì§ ì„ íƒ ì•ˆ í–ˆì„ ë•Œ
        if (!topDisk) return;                     // ë¹„ì–´ ìˆìœ¼ë©´ ë¬´ì‹œ
        selectedDisk = topDisk;                   // ì„ íƒ ì €ì¥
        fromTower = tower;                        // ì¶œë°œ ê¸°ë‘¥ ì €ì¥
        selectedDisk.style.backgroundColor = 'orange'; // ì„ íƒ ì‹œ ìƒ‰ ë³€ê²½
      } else {
        // ì´ë¯¸ ì„ íƒëœ ìƒíƒœì—ì„œ ë‘ ë²ˆì§¸ í´ë¦­
        if (topDisk && Number(topDisk.dataset.size) < Number(selectedDisk.dataset.size)) {
          alert("í•˜ë…¸ì´ ëª°ë¼? í° ì›ë°˜ì„ ì‘ì€ ì›ë°˜ ìœ„ì— ë†“ì„ ìˆ˜ ì—†ìŒ!"); // ê·œì¹™ ìœ„ë°˜ ê²½ê³ 
          resetSelection(); // ì„ íƒ í•´ì œ
          return;
        }
        tower.appendChild(selectedDisk); // ì´ë™ ì‹¤í–‰
        resetSelection();                // ì„ íƒ í•´ì œ
        checkWin();                      // ìŠ¹ë¦¬ ì—¬ë¶€ í™•ì¸
      }
    }

    // ì„ íƒ ì´ˆê¸°í™” í•¨ìˆ˜
    function resetSelection() {
      if (selectedDisk) selectedDisk.style.backgroundColor = 'teal'; // ì›ë˜ ìƒ‰ìƒ ë³µì›
      selectedDisk = null;
      fromTower = null;
    }

    // ëª¨ë“  ì›ë°˜ì´ 3ë²ˆ ê¸°ë‘¥ì— ìŒ“ì˜€ëŠ”ì§€ í™•ì¸
    function checkWin() {
      if (towers.c.childElementCount === numDisks) {
        alert("ğŸ‰ You're a genius. í•˜ë…¸ì´ ì •ë³µ ì™„ë£Œ!");
      }
    }
  </script>
</body>
</html>
